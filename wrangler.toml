# This wrangler.toml is for local development only
# Cloudflare Pages handles deployment automatically - DO NOT use wrangler deploy
name = "pollux-astro"
compatibility_date = "2024-01-01"

# D1 Database binding for local development
# Production: pollux-db (main branch deployments)
# Staging: pollux-db-staging (preview/PR deployments)
[[d1_databases]]
binding = "DB"
database_name = "pollux-db"
database_id = "2fe30a33-2741-4896-b255-0d02bef7dabf" # Production D1 database

# For local staging/preview testing, uncomment the staging database:
# [[d1_databases]]
# binding = "DB"
# database_name = "pollux-db-staging"
# database_id = "2e04830c-6dd1-43fc-a453-b048949c4419"

# ====================================
# Cloudflare Pages Configuration
# ====================================
# In the Cloudflare Pages dashboard, configure D1 bindings separately:
#
# Production Environment (Settings -> Functions -> D1 database bindings):
#   Variable name: DB
#   D1 database: pollux-db
#
# Preview Environment (Settings -> Functions -> D1 database bindings):
#   Variable name: DB (same binding name!)
#   D1 database: pollux-db-staging
#
# This allows the same code to use different databases per environment.
# No code changes needed - Cloudflare Pages injects the correct DB automatically.
